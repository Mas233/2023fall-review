# 需求规格说明

## 小组成员

| 姓名   | 学号      |
| ------ | --------- |
| 费佳伟 | 191250030 |
| 林浩燊 | 191250083 |
| 王一辉 | 191250142 |
| 周宇杰 | 191250214 |

## 度量数值

在分析模型章节中，共对4个场景进行建模，共计模型12个；

同时使用绘图工具Draw.io来增强模型的表达力并简化模型；

顺利完成了软件需求规格说明文档。

## 文档简介

本⽂档为我们小组为简动软件所做的需求规格说明⽂档，记录了系统的功能描述及需求。在有了项⽬需求获取⽂档的完成经验后，我们将整个⽂档的每⼀个章节竖向切分为四个模块，四名组员并行工作。⽂档包括两个章节，分别是分析模型、软件需求规格说明文档。

## 目录

[toc]

# 一、分析模型

## 1 精选视频和简洁页面

### 领域模型

下图描述了精选视频和简洁页面过程中的类关系：

![](https://box.nju.edu.cn/f/9410d7b3a7134e99b594/?dl=1)

该图由用户、运动教练、运动视频数据库、运动喜好、精选视频推荐和简洁页面共5个类组成，运动教练录制视频，并由这些视频组成运动视频数据库；用户和运动视频数据库直接的关系是用户从运动视频数据库中缓存视频；用户输入运动喜好；精选视频和简洁页面类会依据用户的运动喜好，从运动视频数据库中取视频；最终精选的视频会被推荐给用户。



### 顺序图

下图描述了精选视频和简洁页面过程中的实体交互的顺序：

![](https://box.nju.edu.cn/f/33b6016a9fda414a8689/?dl=1)

该图展示了用户被精选视频推荐的整个流程。用户在第一次使用该软件时，被要求输入个人运动喜好的信息，系统会弹出提示：“运动喜好记录成功”；在用户之后打开首页时，系统都会根据最初用户填写的喜好以及大数据算法分析的结果进行精选视频的推荐；用户如果不喜欢该视频，可以往下滑换视频，系统再次进行精选视频的推荐，当用户遇到喜欢的视频时，可以通过点击喜欢按钮并且右滑的方式查看完整视频，系统播放完整视频给用户学习，用户看完后退出，系统结束精选视频的推荐。



### 状态图

下图描述了精选视频和简洁页面过程中所经过的状态和转移：

![](https://box.nju.edu.cn/f/34a4cba601cf4f04912d/?dl=1)

状态主要有打开APP，填写运动喜好、进入首页、推荐精选视频、观看完整视频五种。在预想中，打开APP、进入首页、推荐精选视频、查看完整视频是主干状态；同时会根据用户是否第一次打开软件、用户是否喜欢被推荐的视频产生了分支状态。



## 2 运动通关模式

### 领域模型

下图解释了运动通关模式中的类关系：

![](https://box.nju.edu.cn/f/87aa5a6f50874247b2c1/?dl=1)

该图主要包含用户、关卡、成就、虚拟货币以及健身器械五个类。用户可以参与运动关卡，并且在完成关卡的挑战之后可以获得相应的成就以及虚拟货币的奖励，成就可以用于展示，虚拟货币可以用户兑换健身器材

### 顺序图

下图描述了运动通关模式的实体交互顺序：

![](https://box.nju.edu.cn/f/745c6d49040f4d37bfa7/?dl=1)

该图展示了用户使用运动通关模式的整个流程。用户在点击了界面上的运动通关模式按钮之后，系统会主动展示所有的关卡，用户可以选择一个关卡进入，完成相应的关卡挑战后就可以获得虚拟货币以及成就的奖励，并且用户可以通过虚拟货币兑换相应的健身器械

### 状态图

下面描述了运动通关模式过程中所经过的状态以及转移：

![](https://box.nju.edu.cn/f/9b221846dc694396aa55/?dl=1)



在该图中，状态主要有就绪、所有运动关卡显示和关卡内容显示三个状态。就绪状态用来展示用户身份的安全性和可访问性，所有关卡显示和关卡内容显示两个状态可以通过用户的不断选择与退出进行状态的切换





## 3 动态调整训练计划

### 领域模型

下图解释了动态调整训练计划中的类关系：

![](https://box.nju.edu.cn/f/6022ea4b38974f699fa7/?dl=1)

该领域模型图主要包含了用户、反馈、训练计划和管理平台三个类。用户在训练过程中可以提交或者修改反馈；修改完成后，反馈会上传到管理平台。管理平台会在每一次收集用户的反馈后，计算出更适合用户当下情况的训练机会，并将训练计划提供给用户。

### 顺序图

下图描述了动态调整训练计划的实体交互顺序：

![](https://box.nju.edu.cn/f/a3f61a737feb4cfc882e/?dl=1)

该图展示了用户提交反馈和接受新的训练计划的整个流程。用户在提交反馈之后，还可以进行多次修改反馈，系统会在一段时间后提供用户反馈处理的情况，与此同时计算更符合用户情况的训练计划。计算完成后，系统将新的训练计划提供给系统，用户随即可以展开执行新的训练计划。用户可以随时退出系统，结束训练计划调整。

### 状态图

下面描述了动态调整训练计划过程中所经过的状态以及转移：

![](https://box.nju.edu.cn/f/53fce40f6d164bf897f7/?dl=1)

状态图中，状态主要有系统收到反馈、计算新训练计划、生成训练计划和启动新训练计划四种，收到反馈状态是最开始的状态，推动了整个动态调整的进行。算新训练计划和生成训练计划是系统内部状态的迁移和改变，主要是生成计划提供给用户。新训练计划开始是在用户开始之后才进入的状态，在开始之后的状态中，用户依然可以提供反馈，重新进入动态调整；于此同时，用户可以选择退出整个状态流程。

## 4 交互式视频定制

### 领域模型

![](https://box.nju.edu.cn/f/1aa3ab14a8af4b32beff/?dl=1)



### 顺序图

![](https://box.nju.edu.cn/f/b1f301c0d0e24e90a45c/?dl=1)



### 状态图

![](https://box.nju.edu.cn/f/4ed96c42334b49148f6a/?dl=1)

# 二、软件需求规格说明

## 1 引言

### 1.1 目的

本文档描述了简动健身软件的功能需求和⾮功能需求，简动健身软件是⼀个通过移动端的APP为用户提供简洁的健身运动教学和交流的软件系统。后续展开开发实现与验证⼯作时，开发团队会以此⽂档为依据。

### 1.2 范围

本⽂档要描述的是简动健身软件的需求说明，预期中的功能包括各种精选视频和简洁页面、运动通关模式、动态调整训练计划、交互式视频定制等等。我们通过设计这样一个软件，提供以上的功能，解决原有运动软件信息洪泛，人们时常因可选内容太多而不知从何开始运动的问题。我们还会提供一般健身软件的功能，比如定制化训练计划、社区交流等等，解决用户日常的健身需求。

### 1.3 定义、首字母缩写和缩略语

#### 1.3.1 定义

- 普通用户：软件的使用者，是最为广泛的用户群体
- 管理员：负责整个软件的管理和维护
- 专业运动公司：为我们提供专业运动教练的合作公司
- 运动教练：来自于专业运动公司的，负责运动健身视频录制的教练
- 线下健身房：合作伙伴，是我们线下推广的重要合作者
- 健身器材提供方：合作伙伴，主要是我们提供健身器材

#### 1.3.2 首字母缩写

无

#### 1.3.3 缩略语

无

### 1.4 参考文献

1. 《需求工程——软件建模与分析》
2. 简动需求获取⽂档
3. IEEE标准

### 1.5 文档组织

由总体描述和详细需求描述构成，其中详细需求描述又包括了对外接口需求，功能需求，性能需求，约束，质量属性，其他需求。

## 2 总体描述

### 2.1 产品背景

#### 2.1.1 背景与机遇

由于疫情的影响，在增强人们健身意识的同时，也改变了很多人的健身行为。线上健身软件凭借其简洁性，便利性以及定制性被更多人选择。与之相比，传统健身方式中隐藏的很多问题被暴露了出来。例如线下健身房中充斥着的营销色彩以及大量的无关信息，使得很多的健身爱好者疲于应付所谓的“健身教练”。又例如一些用户平时需要上班，甚至加班，他们没有充足的时间来到线下健身房进行健身，导致自己的身材逐渐臃肿。再或者说，用户缺少一个可以分享健身心得的运动交流平台，独自一个人的健身往往使得他们兴趣减半，少了运动的热情。



#### 2.1.2业务需求

BR1：第一版应用上线三个月内，专业的运动健身视频的总量需要达到1000+，且保证每个视频的专业性。

BR2：第一版应用上线的六个月内，平台的用户总数达到10w+,且保证用户的真实性。

BR3：第一版应用上线的六个月内，运动视频需要至少覆盖28个奥运项目。

BR4：第一版应用上线的一年内，合作的健身房总数达到3000+，其中全国连锁的品牌健身房不少于30家。

BR5：第一版应用上线的两年内，能够付费的用户占比全部用户的比例超过30%

BR6：第一版应用上线一年内，合作的专业公司总数达10个。

### 2.2 产品功能

| ID   | 产品功能                                 |
| ---- | ---------------------------------------- |
| FE1  | 用户可以使用系统观看精选视频             |
| FE2  | 用户可以使用系统进行运动闯关             |
| FE3  | 用户可以使用系统购买健身器械             |
| FE4  | 用户可以使用系统查看好友的通关进度·      |
| FE5  | 用户可以通过语音、触屏等方式和课程交互   |
| FE6  | 教练可以使用系统录制交互式视频           |
| FE7  | 系统管理员将课程加入课程池并且配置新课程 |
| FE8  | 用户可以使用系统购买健身课程             |
| FE9  | 用户可以使用系统观看、评价健身课程       |
| FE10 | 用户可以使用系统进行健身计划             |
| FE11 | 用户训练后发送反馈                       |

### 2.3 用户特征

#### 2.3.1 用户识别

总体而言，该系统的涉众有：用户、专业运动公司、专业的运动教练、管理员、健身器材提供方。

#### 2.3.2 用户描述

| 编号           | 主要目标                                                     | 教育水平 | 主要关注点                                                   | 使用能力                 |
| -------------- | ------------------------------------------------------------ | -------- | ------------------------------------------------------------ | ------------------------ |
| 用户           | 获得经过精选后的视频推荐，以简洁的页面和精选的视频来解决面对海量运动视频不知如何选择的困扰 | 不等     | 使用软件后，被推送的视频是否是精选过的，是否符合我的胃口     | 可能不能熟练使用移动软件 |
| 专业运动公司   | 训练培养的运动教练能够熟练的掌握人体结构和健身方面专业知识，能够正确的进行知识输出 | 较高     | 培养好的健身教练是否能够在视频中正确的进行健身知识的传授，以及各位教练是否形象上镜 | 一般                     |
| 专业运动教练   | 每一位教练首先需要自己有一个很好的体魄，其次需要掌握人体结构和健身方面的专业知识，能够科学合理的进行健身运动视频的录制 | 较高     | 能否以一个生动风趣、专业的态度和风格进行视频的录制和课程的讲授。 | 较高                     |
| 管理员         | 对视频的优质认定有一个统一的标准，APP运营管理员能够客观公平的进行视频的一个审核，以保证视频的精选和优质；为得到一个简洁的页面应该不断的向用户发放问卷来获得用户的建议。 | 较高     | 主要关注视频精选的审核流程是否符合标准，审核后的精选视频是否优质。 | 很高                     |
| 健身器材提供方 | 销售健身器材给用户                                           | 不等     | 能够便利地提供器材                                           | 可能不能熟练使用移动软件 |

### 2.4 约束

| 编号 | 约束内容                                |
| ---- | --------------------------------------- |
| CON1 | 系统基于移动端APP进行开发，后端使用Java |
| CON2 | 代码提交前必须通过风格检查              |
| CON3 | 开发过程使用螺旋模型                    |

### 2.5 假设和依赖

| 编号 | 假设内容                                                     |
| ---- | ------------------------------------------------------------ |
| AS-1 | 专业运动公司愿意与我们进行合作，愿意提供专业教练给我们以录制优质视频 |
| AS-2 | 健身房愿意与我们合作，愿意与我们互利共赢，帮助我们进行宣传   |
| AS-3 | 用户使用软件的过程中和软件有互动                             |
| AS-4 | 用户使用软件的过程中不会忽视软件的通知和提示                 |
| AS-5 | 用户愿意在使用后进行适量的反馈                               |
| AS-6 | 用户愿意按照软件提供的示范和引导来进行健身运动               |

| 编号 | 假设内容                                                     |
| ---- | ------------------------------------------------------------ |
| DE-1 | 需要租用第三方提供的服务器进行视频的存储服务（华为云、阿里云等） |
| DE-2 | 需要专业教练给我们录制优质视频                               |
| DE-3 | 需要用户提供适量的反馈给我们持续改进UI界面，提高用户体验     |
| DE-4 | 需要用户使用过程中有操作，我们记录在数据库中进行大数据分析用户喜好 |
| DE-5 | 需要很多第三方服务，比如微信、支付宝的充值接口               |

## 3 详细需求描述

### 3.1 对外接口需求

#### 3.1.1 用户界面

![](https://box.nju.edu.cn/f/9a4d34ffeca14105b759/?dl=1)

![](https://box.nju.edu.cn/f/3de4c7e0b75c4705a7d1/?dl=1)

![](https://box.nju.edu.cn/f/f6387b5e0517419daf0a/?dl=1)

![](https://box.nju.edu.cn/f/7a4ba6ba46ff4307adc5/?dl=1)



![](https://box.nju.edu.cn/f/be8b1260a9a8413bb684/?dl=1)



![](https://box.nju.edu.cn/f/3f03f51151184b0b9ee3/?dl=1)

#### 3.1.2 硬件接口

系统采用分布式开发，部署在多台服务器上，数据库多实例应该保障数据的一致性

#### 3.1.3 软件接口

平台与第三方支付平台之间通过网络双向通信，第三方支付平台用于支付，将用户支付成功与否的信息返回给平台

平台与专业健身公司以及线下健身房之间建立信息交换的接口，平台通过对应的接口获取线下健身房以及专业健身公司的相关信息

#### 3.1.4 通信接口

移动APP与后端使用基于JSON的REST API进行通信

系统和专业健身公司以及线下健身房使用基于JSON的REST API进行通信

### 3.2 功能需求

#### 3.2.1 精选视频和简洁页面

##### 3.2.1.1 特性描述

本功能可以为用户推荐精选视频。用户在第一次使用该软件时，需要输入个人运动喜好的信息，系统会弹出提示：“运动喜好记录成功”；在用户之后打开首页时，系统都会根据最初用户填写的喜好以及大数据算法分析的结果进行精选视频的推荐；用户如果不喜欢该视频，可以往下滑换视频，系统再次进行精选视频的推荐，当用户遇到喜欢的视频时，可以通过点击喜欢按钮并且右滑的方式查看完整视频，系统播放完整视频给用户学习，用户看完后退出，系统结束精选视频的推荐。

##### 3.2.1.2 刺激/响应系列

刺激：用户点击软件图标进入

响应：主页进行精选视频推荐

刺激：用户不喜欢该视频，下滑

响应：换一个视频进行推荐

刺激：用户喜欢该视频，点击喜欢按钮并且右滑

响应：系统播放完整视频给用户学习

刺激：用户退出APP

响应：系统关闭

##### 3.2.1.3 相关功能需求

| recommend.recommend | 系统进行精选视频推荐       |
| ------------------- | -------------------------- |
| recommend.like      | 系统播放完整视频给用户学习 |
| recommend.dislike   | 换一个视频进行推荐         |
| recommend.exit      | 退出系统                   |

#### 3.2.2 运动通关模式

##### 3.2.2.1 特性描述

本功能可以为一些想趣味健身的用户提供一种运动通关的模式，并且希望通过其中的一些小关卡来抓住用户的碎片时间，同时对完成关卡任务的用户会提供一些成就和虚拟货币的奖励，成就可以用于个人主页的展示，而虚拟货币则可以去兑换一些健身器械，方便自己更好的健身。

##### 3.2.2.2 刺激/响应序列

刺激：用户点击运动通关模式

响应：系统展示所有的运动关卡

刺激：用户选择一个运动关卡

响应：系统展示运动关卡的任务以及完成后的奖励

刺激：用户完成关卡的挑战

响应：系统发放关卡奖励

刺激：用户发出相应成就展示的设置

响应：系统在用户界面展示响应的成就

刺激：用户发出使用虚拟货币兑换的请求

响应：系统响应申请

##### 3.2.2.3 相关功能需求

| Sport_Game.List              | 系统为用户展示所有的运动关卡     |
| ---------------------------- | -------------------------------- |
| Sport_Game.Level_Information | 系统为用户展示某个指定关卡的信息 |
| Sport_Game.pass              | 系统为通关的用户发送奖励         |

#### 3.2.3 动态调整训练计划

##### 3.2.3.1 特性描述

本功能可以为用户动态调整训练计划。用户在进行系统分配的训练计划时，可以在每一次训练的进行中、结束后，向系统提交反馈——难度是否合适、是否有身体不适等。在收集相关信息和意向之后，系统会开始为用户建模；系统在建模的过程中，用户可以修改反馈或者修改模型的参数。在一段时间后，系统将确定用户的训练模型，并为当前模型设计用户的训练计划。在训练计划计算结束后，训练计划将整合上传到用户界面可见的范围内。用户在此之后可以进入训练。训练之后可以再次提交反馈进行以上流程。

##### 3.2.3.2 刺激/响应系列

刺激：用户进入训练界面中的反馈模块

响应：系统弹出反馈问卷

刺激：用户填写反馈，包括训练感受、体感难度等信息，完毕上传

响应：系统接受反馈，并计算模型，再提示上传成功

刺激：用户有新反馈，在反馈界面继续添加

响应：系统接受反馈，将新反馈内容加入之前的计算模型，并提示上传成功

刺激：用户发现新训练上线后，点击进入新的训练计划界面

响应：系统开放新的训练计划

##### 3.2.3.3 相关功能需求

| adjust.adjust         | 系统进行动态调整训练计划               |
| --------------------- | -------------------------------------- |
| adjust.uploadFeedback | 用户上传反馈信息                       |
| adjust.updateFeedback | 用户更新反馈信息                       |
| adjust.computeModel   | 系统计算训练模型                       |
| adjust.getPlan        | 系统从训练模型中提取出调整后的训练计划 |
| adjust.showPlan       | 系统展示调整后的训练计划               |

#### 3.2.4 交互式视频定制

##### 3.2.4.1 特性描述

本功能可以为一些水平参差不齐的用户提供一种特殊的训练模式，在本功能中训练者可以通过与课程中的教练或者其他功能快进行互动，系统或者教练根据表现来决定接下来的训练走向。

##### 3.2.4.2 刺激/相应系列

刺激：用户开始训练

响应：系统开始播放健身教学视频

刺激：健身教学视频到达特定节点

响应：系统通过弹窗提示用户输入语音信息

刺激：用户输入语音信息

响应：系统接收信息并由此变更视频流

刺激：用户结束训练

响应：结束视频播放并返回主页

##### 3.2.4.3 相关功能需求

| interact.start    | 系统开始播放健身教学视频                       |
| ----------------- | ---------------------------------------------- |
| interact.trigger  | 视频到达特定节点，跳出弹窗提示用户输入语音信息 |
| interact.receive  | 系统接收用户输入                               |
| interact.analyze  | 系统识别用户输入                               |
| interact.change   | 系统更变视频流                                 |
| interact.exit     | 系统结束视频播放并返回主页                     |
| interact.continue | 系统更变视频流后继续播放                       |



### 3.3 性能需求

#### 3.3.1 速度

- **PR1: ** 所有用户的加载、查询、提交、进入关卡等访问操作都需要在10秒之内完成；
- **PR2：**推荐视频在上传或者刷新1分钟之后上线平台；
- **PR3：**交互式视频的反馈和分支进入需要在5秒内完成；
- **PR4：**运动通关获得物品、成就等需要在关卡结束一秒后更新；

#### 3.3.2 容量

- **PR5：**系统应至少能够存储10万条以上的关卡视频；
- **PR6：**系统应至少能够存储10万条以上的推荐视频；
- **PR7：**系统应至少能够存储10万条以上的用户反馈；
- **PR8：**系统应至少能够存储100万条以上的用户个人习惯等信息；
- **PR9：**系统应至少能够存储1000种以上的交互视频程序；

#### 3.3.3 吞吐量

- **PR10：**系统每秒钟能处理10万条以上的用户信息；
- **PR11**：系统每秒钟能处理10万条以上的请求；

#### 3.3.4 负载

- **PR12：**系统至少允许10万用户同时使用而不崩溃；
- **PR13**：系统至少能够同时支持1000个用户同时进行一个项目、交互式视频的练习；
- **PR14：**系统允许1万名用户同时交互；

#### 3.3.5 实时性

- **PR15：**系统响应请求的时间在0.2秒以内；
- **PR11**：系统更新数据库不必严格同步，但是需要及时；请求到更新数据库的时间差不超过5分钟；

### 3.4 约束

- **IC1：**系统在一年中的停机维护次数不得超过10次；
- **IC2：**系统要在网络上分布为一个服务器和多个客户端；
- **IC3：**不同地区间访问服务器速度有差异，需在多地购买、假设服务器；
- **IC4：**因存储资源限制，对于长时间不上线的用户可能会进行清档处理；
- **IC5：**为保护用户信息，存储用户信息的区域需要最高访问权限才能直接进行操作；

### 3.5 质量属性

- **QR1：安全性**，对于用户信息和系统安全要有严格保障，对于不怀好意的用户和访问者，需要有安全处理措施和防火墙；
- **QR2：功能性**，系统满足用户所需要的所有需求；
- **QR3：可移植性**，易于维护、修改、迁移；
- **QR4：效率**，系统处理用户反馈、用户闯关等请求的效率高；
- **QR5：可靠性**，系统在崩溃、更新、维护的过程中不会丢失、泄漏用户信息和核心资源；
- **QR6：可用性**，界面简洁，符合用户的精神模型，易用；

### 3.6 其他需求

#### 3.6.1 安装需求

- **Install1：**在安装系统时，需要对用户、课程等信息进行初始化；
- **Install2**：系统投入使用时，需要对用户进行简单的指导和引领；